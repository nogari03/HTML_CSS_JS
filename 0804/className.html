<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <style>
        .init{ background-color: #4CAF50;}
        .intro{ color: red; }
    </style>​
    <script>
    function styleHeaderSiblings(){
        if(!document.getElementsByTagName) return false;
        var headers = document.getElementsByTagName('h1');
        for(var i = 0; i < headers.length; i++){
            //var elem = getNextElement(headers[i].nextSibling);
            var elem = headers[i].nextElementSibling;
            addClass(elem, 'intro'); // class 프로퍼티 값을 변경한다.
        }
    }

    // 해당 요소노드의 class 속성을 수정하거나 추가한다.
    function addClass(element, value){
        if(!element.className){
            element.className = value;
        }else{
            // 기존의 style에 더하여 style 속성을 추가하는 로직
            newClassName = element.className;
            newClassName += ' ';
            newClassName += value;
            element.className = newClassName;
        }
    }

    //다음 요소노드가 나올 때 까지 재귀호출
    function getNextElement(node){
        console.log(node.nodeType);
        if(node.nodeType == 1) return node;
        if(node.nextSibling) {
            return getNextElement(node.nextSibling);
        }
        return null;
    }
    </script>
</head>
<body onload='styleHeaderSiblings()'>
    <h1>첫번째 제목</h1>
        <p class='init'>이것은 첫번째 단락입니다.</p>
        <p>테스트1</p>
    <h1>두번째 제목</h1>
        <p>이것은 두번쨰 단락입니다.</p>
        <p>테스트2</p>
</body>
</html>